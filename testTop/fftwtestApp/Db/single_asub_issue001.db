# single setup for FFT
#
# Test for issue #1
# see https://github.com/ralphlange/fftw/issues/1
#
# uses an aSub to pull data from a incomplete compress record
#
# P       prefix and name of FFT instance
# TIME_N  number of samples (size of inp arrays)

record (ai, "$(P)$(R)value") {
}

record (compress, "$(P)$(R)inp-real") {
  field(ALG, "Circular Buffer")
  field(INP, "$(P)$(R)value")
  field(NSAM, "$(TIME_N)")
}

record (aSub, "$(P)$(R)inp-sub") {
  field(INAM, "FFTW_init")
  field(SNAM, "FFTW_input")
  field(INPA, "$(P)$(R)inp-real")
  field(FTA,  "DOUBLE")
  field(NOA,  "$(TIME_N)")
  info(fftw:CONFIG, "$(P) input-real trigger=y")
  field(TPRO, "15")
}
